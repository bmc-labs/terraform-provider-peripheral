{"openapi":"3.0.3","info":{"title":"runrs","description":"A microservice to manage GitLab Runners in Docker via REST","contact":{"name":"Fabio Meier","email":"fabio.meier@bmc-labs.com"},"license":{"name":"Apache-2.0"},"version":"0.1.0"},"servers":[{"url":"http://0.0.0.0:3000/","description":"Local development server"}],"paths":{"/gitlab-runners":{"post":{"tags":["runners"],"operationId":"create","requestBody":{"description":"GitLabRunner to update","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitLabRunner"}}},"required":true},"responses":{"201":{"description":"Created new GitLabRunner","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitLabRunner"}}}},"400":{"description":"GitLabRunner already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/gitlab-runners/list":{"get":{"tags":["runners"],"operationId":"list","responses":{"200":{"description":"Read all GitLabRunners","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitLabRunner"}}}},"404":{"description":"GitLabRunner not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/gitlab-runners/{id}":{"get":{"tags":["runners"],"operationId":"read","parameters":[{"name":"id","in":"path","description":"GitLabRunner ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Read all GitLabRunners","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitLabRunner"}}}},"404":{"description":"GitLabRunner not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"put":{"tags":["runners"],"operationId":"update","parameters":[{"name":"id","in":"path","description":"GitLabRunner ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"GitLabRunner to update","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitLabRunner"}}},"required":true},"responses":{"200":{"description":"Updated GitLabRunner","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitLabRunner"}}}},"204":{"description":"GitLabRunner already up-to-date"},"404":{"description":"GitLabRunner not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"delete":{"tags":["runners"],"operationId":"delete","parameters":[{"name":"id","in":"path","description":"GitLabRunner ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Deleted GitLabRunner","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitLabRunner"}}}},"404":{"description":"GitLabRunner not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}},"components":{"schemas":{"Error":{"type":"object","required":["err_type","msg"],"properties":{"err_type":{"$ref":"#/components/schemas/ErrorType"},"msg":{"type":"string"}}},"ErrorType":{"type":"string","enum":["ConnectionFailed","InvalidArgument","AlreadyExists","Forbidden","Unchanged","NotFound","BadRequest","InternalError","Unimplemented","Other"]},"GitLabRunner":{"type":"object","required":["id","url","token","description","image","tag_list","run_untagged"],"properties":{"description":{"type":"string"},"id":{"type":"string"},"image":{"type":"string"},"run_untagged":{"type":"boolean"},"tag_list":{"type":"string"},"token":{"type":"string"},"url":{"type":"string"}}}}},"tags":[{"name":"runrs","description":"GitLab Runners Docker API"}]}